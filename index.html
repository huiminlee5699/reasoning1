<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #343541;
            color: #ececf1;
            height: 100vh;
            display: flex;
        }

        .sidebar {
            width: 260px;
            background-color: #202123;
            padding: 8px;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #565869;
        }

        .new-chat-btn {
            background-color: transparent;
            border: 1px solid #565869;
            color: #ececf1;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .new-chat-btn:hover {
            background-color: #40414f;
        }

        .sidebar-items {
            flex: 1;
            overflow-y: auto;
        }

        .sidebar-item {
            padding: 12px;
            color: #ececf1;
            cursor: pointer;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-item:hover {
            background-color: #40414f;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .welcome-screen {
            max-width: 800px;
            text-align: center;
            margin-top: 20vh;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 32px;
            color: #ececf1;
        }

        .message {
            max-width: 800px;
            width: 100%;
            margin-bottom: 24px;
            display: flex;
            gap: 16px;
        }

        .message.user {
            background-color: #40414f;
            padding: 16px;
            border-radius: 8px;
        }

        .message.assistant {
            background-color: transparent;
        }

        .message-content {
            flex: 1;
            line-height: 1.6;
        }

        .message-content h3 {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .message-content ul {
            margin-left: 20px;
            margin-bottom: 16px;
        }

        .message-content li {
            margin-bottom: 8px;
        }

        .message-content strong {
            font-weight: 600;
        }

        .input-container {
            position: relative;
            max-width: 800px;
            width: 100%;
            margin: 0 auto 20px auto;
            padding: 0 20px;
        }

        .input-wrapper {
            position: relative;
            background-color: #40414f;
            border-radius: 12px;
            border: 1px solid #565869;
            display: flex;
            align-items: flex-end;
            padding: 12px;
            gap: 8px;
        }

        .input-field {
            flex: 1;
            background: transparent;
            border: none;
            color: #ececf1;
            font-size: 16px;
            resize: none;
            outline: none;
            min-height: 24px;
            max-height: 200px;
            line-height: 1.5;
        }

        .input-field::placeholder {
            color: #8e8ea0;
        }

        .file-input {
            display: none;
        }

        .file-label {
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .file-label:hover {
            background-color: #565869;
        }

        .send-btn {
            background-color: #19c37d;
            border: none;
            border-radius: 6px;
            padding: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            width: 32px;
            height: 32px;
        }

        .send-btn:disabled {
            background-color: #565869;
            cursor: not-allowed;
        }

        .file-status {
            font-size: 12px;
            color: #19c37d;
            margin-top: 4px;
        }

        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            flex-shrink: 0;
        }

        .user-avatar {
            background-color: #19c37d;
            color: white;
        }

        .assistant-avatar {
            background-color: #10a37f;
            color: white;
        }

        .hidden {
            display: none;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 16px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #8e8ea0;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <button class="new-chat-btn">
            <span>+</span>
            New chat
        </button>
        
        <div class="sidebar-items">
            <div class="sidebar-item">
                <span>üìÑ</span>
                Search chats
            </div>
            <div class="sidebar-item">
                <span>üìö</span>
                Library
            </div>
            <div class="sidebar-item">
                <span>‚öôÔ∏è</span>
                GPTs
            </div>
        </div>
        
        <div style="margin-top: auto; padding-top: 16px; border-top: 1px solid #565869;">
            <div class="sidebar-item">
                <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #19c37d; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">
                    U
                </div>
                User
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="chat-container" id="chatContainer">
            <div class="welcome-screen" id="welcomeScreen">
                <h1 class="welcome-title">What can I help with?</h1>
            </div>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <label for="fileInput" class="file-label">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                    </svg>
                </label>
                <input type="file" id="fileInput" class="file-input" accept=".xlsx,.xls,.csv">
                <textarea 
                    id="messageInput" 
                    class="input-field" 
                    placeholder="Ask anything..."
                    rows="1"
                ></textarea>
                <button id="sendBtn" class="send-btn" disabled>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22,2 15,22 11,13 2,9"></polygon>
                    </svg>
                </button>
            </div>
            <div class="file-status" id="fileStatus"></div>
        </div>
    </div>

    <script>
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const chatContainer = document.getElementById('chatContainer');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const fileInput = document.getElementById('fileInput');
        const fileStatus = document.getElementById('fileStatus');

        let uploadedFile = null;

        const targetQuestion = "You work for an international education nonprofit focused on strengthening online learning after COVID-19. Your team must decide whether to direct resources to Indonesia or Nigeria. Using the data on GDP growth and school enrollment, which country should your NGO prioritize, and why would additional support for digital and online learning have the greatest impact there?";

        const predefinedResponse = `**Short answer: Nigeria.**

**Why (from your file):**
‚Ä¢ **Primary enrollment gap:** Latest available gross enrollment is ~**86.7% in Nigeria (2021)** vs ~**100.2% in Indonesia (2023)**. Indonesia is already at (or above) universal primary enrollment; Nigeria still has a sizable access gap to close. (I analyzed your "Indo vs Nigeria.xlsx" and shared a compact summary table in the workspace.)
‚Ä¢ **Recent trajectory:** Since 2015, **Nigeria is up ~+3.0 points**, while **Indonesia is down ~‚Äì9.1 points** (a correction from previously >100% gross). This means the *marginal impact* of pulling more learners in‚Äîespecially the hardest-to-reach‚Äîwill be higher in Nigeria.
‚Ä¢ **Macro capacity:** Average **GDP growth (2020‚Äì2024)** is **~2.3% for Nigeria** vs **~3.4% for Indonesia**; Nigeria's **latest (2024) growth ~3.43%** is improving but still leaves limited fiscal space. External support to digital learning is more catalytic where public budgets are tighter and baseline enrollment is lower.

**Why digital/online learning moves the needle more in Nigeria**

Given lower enrollment and improving but constrained macro resources, targeted digital approaches can unlock access and retention at scale:

1. **Reach out-of-school children** with *offline-first* mobile learning bundles (preloaded devices, SD-card content), radio/TV + SMS bridging, and community digital hubs‚Äîespecially in rural and conflict-affected areas.

2. **Teacher support at scale:** WhatsApp/low-bandwidth CPD, micro-credentials, and templated digital lesson plans to mitigate shortages and variability in instructional quality.

3. **Girls' participation:** Safety-aware home-based modules, guardians' messaging, and asynchronous schedules reduce drop-out during household labour or caregiving peaks.

4. **Cost/leverage:** Zero-rating of core learning platforms with MNOs, shared/solar charging, and device rotation models deliver large enrollment/attendance gains per dollar.

5. **Data for action:** Simple attendance/usage dashboards (USSD/SMS fallbacks) to identify disengagement early.

**Suggested initial KPIs (12‚Äì18 months, Nigeria):**
‚Ä¢ +6‚Äì10 pp increase in primary participation in target LGAs
‚Ä¢ ‚â•60% weekly active learners on offline/low-data apps
‚Ä¢ ‚â•70% teacher completion of micro-CPD modules; ‚â•0.25 SD improvement on basic literacy/numeracy in sampled schools
‚Ä¢ 1‚Äì2 telecom zero-rating agreements; device uptime ‚â•90% via solar/charging solutions

**Bottom line:** With Indonesia already near-universal primary enrollment, your resources will have **greater additional impact in Nigeria**, where digital solutions can convert large access gaps into real learning gains and do so cost-effectively.`;

        function updateSendButton() {
            const hasText = messageInput.value.trim().length > 0;
            sendBtn.disabled = !hasText;
        }

        function autoResize() {
            messageInput.style.height = 'auto';
            messageInput.style.height = messageInput.scrollHeight + 'px';
        }

        function addMessage(content, isUser = false) {
            welcomeScreen.classList.add('hidden');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            const avatar = document.createElement('div');
            avatar.className = `avatar ${isUser ? 'user-avatar' : 'assistant-avatar'}`;
            avatar.textContent = isUser ? 'U' : 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            
            if (isUser) {
                messageContent.textContent = content;
                messageDiv.appendChild(messageContent);
            } else {
                messageDiv.appendChild(avatar);
                messageContent.innerHTML = formatResponse(content);
                messageDiv.appendChild(messageContent);
            }
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function formatResponse(text) {
            // Convert markdown-style formatting to HTML
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/‚Ä¢ /g, '&bull; ')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>')
                .replace(/^/, '<p>')
                .replace(/$/, '</p>');
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant';
            typingDiv.id = 'typing-indicator';
            
            const avatar = document.createElement('div');
            avatar.className = 'avatar assistant-avatar';
            avatar.textContent = 'AI';
            
            const typingContent = document.createElement('div');
            typingContent.className = 'typing-indicator';
            typingContent.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
            
            typingDiv.appendChild(avatar);
            typingDiv.appendChild(typingContent);
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            addMessage(message, true);
            messageInput.value = '';
            updateSendButton();
            autoResize();

            // Check if this matches our target question and a file is uploaded
            const isTargetQuestion = message.toLowerCase().includes('indonesia') && 
                                   message.toLowerCase().includes('nigeria') && 
                                   message.toLowerCase().includes('education') &&
                                   uploadedFile;

            showTypingIndicator();

            setTimeout(() => {
                removeTypingIndicator();
                
                if (isTargetQuestion) {
                    addMessage(predefinedResponse);
                } else {
                    addMessage("I'm a simulation of ChatGPT created for research purposes. Please ask the specific question about Indonesia vs Nigeria with an uploaded file to see the demonstration response.");
                }
            }, 2000);
        }

        messageInput.addEventListener('input', () => {
            updateSendButton();
            autoResize();
        });

        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                if (!sendBtn.disabled) {
                    sendMessage();
                }
            }
        });

        sendBtn.addEventListener('click', sendMessage);

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                uploadedFile = file;
                fileStatus.textContent = `üìé ${file.name} uploaded`;
            } else {
                uploadedFile = null;
                fileStatus.textContent = '';
            }
        });

        // Initialize
        updateSendButton();
    </script>
</body>
</html>
